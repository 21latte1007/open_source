## Cloud Search Optimizer
**동의어는 스키마를 사용하여 항목의 색인을 생성하는 방식으로 정의**
_dictionary Entry :
    _term[문자열] : 정의할 용어, 권장 값은 구두점과 하이폰이 없는 단어 또는 구
    _synonym[문자열] : _term에 정의된 문자열과 일치하는 쿼리에 포함될 대체용어
    _OnlyApplicationForAttachedSearchApplication : 동의어 그룹화
양방향 적용 X, 하이폰, 구두점 제거 ex) scifi → _term : sci fi
동의어 그룹화가 True라면 index가 생성된 동의어가 Data Source와 관련이 있다.
ex) 엔지니어링팀과 영업팀 등에 서로 다른 검색 환경을 제공하려고 할 때.

### 검색 환경 최적화
**Cloud Search** : *검색 결과에 영향을 미치는 몇 가지 기본 확장, 해석, 최적화*
- 자체 동의어를 구현하지 않아도 Cloud Search에서 동의어 및 단어 어간을 포함하도록 쿼리 확장. 쿼리의 아이디어 및 인텐트와 광범위하게 일치하는 문서를 검색하기 위해 수행. 이후 순위 알고리즘이 가장 적합한 결과를 결과 집합 상단에 배치.
- 기본 해석 : 특정 Data Source에 업로드된 스키마에 따라 쿼리에 사용된 객체, 속성, 필드 값을 해석하는 자연어 해석 제공.
  - 사용 중지를 위해서는 QueryInterpretationOperations.disableN1Interpretation을 true로.
- 문서 및 쿼리 정규화 : 정규화 → 쿼리가 실행되기 전이나 후에 특정 단어나 구문을 표준화
  - 문서를 정규화 : 저장소 내 문서에서 사용되는 중요한 단어의 표준 철자를 선택. 소스 저장소 문서에서 또는 콘텐츠 Index을 생성할 때 맞춤법을 수정하여 표준 맞춤법과 일치.
  - 쿼리를 정규화 : Cloud Search로 보내기 전에 사용자 쿼리를 가로챔. Index와 생성된 Data Source에서 가장 일반적인 철자와 일치하도록 사용자 쿼리의 단어를 재작성. Cloud Search로 쿼리를 보냄.
  - 사용 중지를 위해서는 QueryInterpretationOptions.enableVerbatim Mode를 True로.

### 검색 품질
**검색을 수행하는 사용자가 인식하는 순위(항목의 순서) 및 재현율(검색된 관련 항목의 수)을 기준으로 측정한 검색 결과의 품질**
- 적합성 점수에 영향 주기
적합성이란 검색 결과와 원래 검색어의 관련성을 나타냄. (검색어의 중요도, 적중 횟수, 검색어 및 검색어의 변형과 Cloud Search에 Index 생성된 항목의 일치 유형) 스키마에 RetrievalImportance의 값을 정의함으로 (HIGHEST, DEFAULT 등) 점수 부여.
- 최신성에 영향 주기
ItemMetadata의 createTime 및 updateTime에 의해 결정.
스키마의 FreshnessOptions의 freshnessProperty 및 freshnessDuration을 조정.
freshnessProperty : ex) “fp” : “duate” → 현재 날짜와 가까울수록 순위가 높아진다.
freshnessDuration : 수가 작으면 최신성, 수가 높으면 오래된 문서
- 품질에 영향 주기
항목의 정확성과 유연성을 측정한 것.
SearchQualityMetadata를 사용하여 품질 값은 0에서 1 사이의 값으로 지정할 수 있음.
ex) 직원의 복지 혜택 문서를 관리 직원이 작성한 것의 우선순위를 높일 수 있음.
- 필드 유형 사용에 영향 주기
OrderedRanking을 각 정수 또는 열거형 속성에 지정.
ex) DESCENDING으로 설정하면 우선순위가 LOW(3)인 버그에 비해 HIGH(1)가 상승.
- 검색어 확장을 통해 순위에 영향 주기
결과의 품질을 높이기 위해 동의어와 맞춤법(맞춤법 오류를 감지하면 SpellResult에 추천 쿼리를 반환)을 사용하여 검색어의 범위를 넓히는 것.
- 검색 애플리케이션 설정을 통해 순위에 영향 주기
스코어링 : ScoringConfig - 최신성 및 맞춤설정. 중지.
소스구성 : SourceImportance - 소스 중요도 / numResults - 데이터 소스에서 반환될 수 있는 결과의 최대 개수
- 맞춤 설정을 통해 순위에 영향 주기
결과에 액세스하는 사용자 개인별로 맞춤화된 검색 결과를 보여주는 것 : 항목 소유권, 항목 상호작용, 사용자 클릭 기준.
- 검색어 해석을 통해 순위에 영향 주기
사용자의 검색어에 있는 연산자와 필터를 자동으로 해석하여 이러한 요소를 구조화된 연산자 기반 검색어로 변환하는 기능
> 항목 언어에 따라 순위에 영향 주기 : 쿼리 언어(자동 감지 혹은 RequestOptions의 LanguageCode), 항목 언어(자동 감지 혹은 ItemMetadata에 설정된 contentLanguage)
> 항목 컨텍스트를 기반으로 순위 높이기 : Index 생성 중, 검색 요청 등에서 특정 검색어에 대한 컨텍스트를 제공하기 위해 지정할 수 있는 명명된 속성 집합

### 검색어 해석 최적화를 위한 스키마 구조화
- 검색어 해석 : 사용자의 검색어에 있는 연산자와 필터를 자동으로 해석하여 이러한 요소를 구조화된 연산자 기반 검색어로 변환하는 기능.
- 스키마에 정의된 연산자와 Index 생성된 문서를 함께 사용하여 의미 추론.
- 결과는 검색어 해석의 신뢰도에 좌우
신뢰도는 색인 생성된 문서에서 검색어 문자열이 어디에 나오는지 등의 여러가지 요소에 기초. 신뢰도가 높을 경우 검색어 해석의 결과만 사용자에게 표시, 낮은 경우 검색어 해석의 결과가 일반 결과와 통합.
ex) actor : “tom_hanks”, genre : action, objectType : movie

### 주요 권장사항
유용, 신뢰, 사용자 중심 콘텐츠 / 주요 단어를 제목, 링크 등에 배치 / 크롤링 가능한 링크 / 이미지, 동영상, 구조화 데이터, 자바스크립트는 권장사항 준수

### 스팸 정책
클로킹, 도어웨어, 해킹된 콘텐츠, 숨겨진 텍스트 및 링크, 유인 키워드 반복, 링크 스팸, 머신 생성 트래픽, 멀웨어 및 악의적 행위, 혼동을 야기하는 기능, 스크랩한 콘텐츠, 부적절한 리디렉션, 자동생성스팸 콘텐츠, 빈약한 제휴 페이지, 사용자 생성 스팸, 법적 삭제, 개인정보 삭제, 정책 우회, 사기

### 결과의 순위 지정
검색어의 의미 - 사용자가 찾는 내용 파악, 정교한 동의어 시스템 언어 모델, 개발하는데 5년 이상.
콘텐츠 관련성 - 키워드가 페이지 내에 표시.
콘텐츠 품질 - 우선순위, 다른 권위 있는 페이지가 해당 콘텐츠를 참조하는가 등.
웹페이지의 사용성 - 모바일 친화적인가, 로딩 속도가 빠른가.
관련정보 및 설정 - 검색 시점에 사용자에게 가장 유용하고 관련성 있는 검색 결과 제공.
1. 크롤링 : 웹에 어떤 페이지가 존재하는지 파악 - 링크를 통하거나 구글에 직접 제출.
2. Index 생성 : <title> 요소 및, alt 속성, 이미지, 동영상, 텍스트 등 콘텐츠 태그 속성 분리. 비슷한 페이지 그룹(클러스터링). 그룹 대표 페이지 선택. 나머지 페이지는 다양한 컨텍스트에서 게재 가능한 대체 목록.
3. 검색 결과 게재 : 검색어와 일치하는 Index 페이지 중 품질이 가장 높고 사용자의 검색어와 가장 관련성이 크다고 보이는 결과 반환.
